<div ng-include="'views/partials/nav.html'"></div>
<div ng-controller='expenseViewer'>
  <div ng-include="'views/partials/PlanYearInfo.html'"></div>
  <button type="button" ng-click="seeExpenses()"name="button">See Expenses</button>
    <table>
      <tr ng-repeat="expense in allTheExpenses">
        -----------------------------<strong>TOTAL SPENT:</strong> {{sumTotal | currency: "$"}}<br />
        -----------------------------<strong>TOTAL LEFT :</strong> {{2000 - sumTotal | currency : "$"}}
         <td><strong>Expense Year: </strong> {{expense.planYear }}</td>
         <td><strong>Expense Description: </strong> {{expense.description }}</td>
         <td><strong>Expense Amount: </strong> {{expense.amount | currency: '$'}}</td>
         <td><strong>Expense Date: </strong> {{expense.date | date}}</td>
         <td><img ng-src={{expense.receiptPic}}><button id = "{{expense._id}}" ng-click = "deleteExpense()">Delete Expense</button>
           <button ng-click='toggleModal()'>Update Expense</button>
           <modal-dialog show='modalShown' width='400px' height='60%'>
             <p>Select Plan Year
               <select name="plan_year" ng-model="pyIn" placeholder = '{{expense.planYear}}'>
                 <option value = "2016-2017">2016-2017</option>
               </select>
             </p>
             <p>Enter Expense Description
               <input type="text" id="whatexpenseIn" ng-model="whatexpenseIn"placeholder="{{expense.description}}"value="">
             </p>
             <p>Enter Expense Amount
               <input type="number" step ='any' min = '0'id="expenseAmtIn" ng-model="expenseAmtIn"placeholder="{{expense.amount| currency: '$'}}"value="">
             </p>
             <p>Enter Expense Date
               <input type="date" id="expenseDateIn" ng-model="expenseDateIn"placeholder="{{expense.date | date}}"value="">
             </p>
             <p>Enter receipt URL
               <input type="text" id='receiptImgIn' ng-model='receiptImgIn'placeholder="URL to receipt image"name="name" value="">
             </p>

             <button type="submit" id = '{{expense._id}}' ng-click='updateExpense()' name="button">Update</button>
           </modal-dialog>
         </td>
       </tr>
     </table>

</div>
